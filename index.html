<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Al-Dahmen for Exchange</title>
  <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
  <script src="https://unpkg.com/@firebase/app/dist/index.umd.js"></script>
  <script src="https://unpkg.com/@firebase/auth/dist/index.umd.js"></script>
  <script src="https://unpkg.com/@firebase/firestore/dist/index.umd.js"></script>
  <script src="https://unpkg.com/@firebase/storage/dist/index.umd.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="icon" href="https://fav.farm/ðŸ’±">
</head>
<body class="bg-gray-100 text-gray-800 font-sans">
  <div id="root" class="min-h-screen flex items-center justify-center">Loading...</div>

  <script type="text/javascript">
    const { useState, useEffect } = React;

    const firebaseConfig = {
      apiKey: "YOUR_API_KEY",
      authDomain: "YOUR_PROJECT.firebaseapp.com",
      projectId: "YOUR_PROJECT_ID",
      storageBucket: "YOUR_PROJECT.appspot.com",
      messagingSenderId: "YOUR_SENDER_ID",
      appId: "YOUR_APP_ID",
    };

    const App = () => {
      const [message, setMessage] = useState("Welcome to Al-Dahmen for Exchange");
      const [amount, setAmount] = useState(0);

      useEffect(() => {
        const app = firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        const db = firebase.firestore();

        auth.signInAnonymously().then(() => {
          const docRef = db.collection("artifacts").doc("demo");
          docRef.onSnapshot((doc) => {
            if (doc.exists) {
              setAmount(doc.data().amount || 0);
            }
          });
        });
      }, []);

      return React.createElement("div", { className: "text-center p-8" },
        React.createElement("h1", { className: "text-4xl font-bold mb-4 text-blue-700" }, message),
        React.createElement("p", { className: "text-2xl text-green-600" }, "ðŸ’° Balance: " + amount.toLocaleString("en-IQ") + " IQD")
      );
    };

    ReactDOM.createRoot(document.getElementById("root")).render(React.createElement(App));
  </script>
</body>
</html>
